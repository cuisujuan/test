#### API方法

##### 登录角色校验

`isLogin` 判定当前页面环境是否已经登录（如果有，则默认是买家登录）

【参数】：null

【返回】: true/false

```javascript
var isLogin = login.isLogin();
```

`isSellerLogin`判定是否是纯卖家方式登录（卖家一定是买家，但买家不一定是卖家）

【参数】：null

【返回】: true/false

```javascript
var isSellerLogin = login.isSellerLogin();
```

##### 登录方式校验（支付宝方式的业务场景较少，故暂不考虑）

`isWechatLogin`判定是否是微信方式登录

【参数】：null

【返回】: true/false

```javascript
var isWechatLogin = login.isWechatLogin();
```

`isQQLogin`判定是否是qq方式登录

【参数】：无;

【返回】: true/false

【使用方式】同上

`isSubAccount`判定是否是子账号登录

【参数】：无;

【返回】: true/false

【使用方式】同上

##### 获取用户信息

`getUserInfo`  调取用户信息数据

【入参】：options对象

|     属性      | 是否必传 |          类型           |           默认值           |                 描述                 |
| :---------: | :--: | :-------------------: | :---------------------: | :--------------------------------: |
| environment |  否   |        Number         | 若不传，则默认解析识别当前页面的url的环境值 | 当前环境值 :0：开发环境；1：日常环境；2：预发环境；3：线上环境 |
|   success   |  否   | void function(result) |          null           |             执行成功后的回调函数             |
|    error    |  否   | void function(result) |          null           |             执行失败后的回调函数             |

`result`对象的数据格式

```json
{"status":
   {"code":0,
    "message":"OK",
    "description":""
   },
 "result":{}
}
```

【返回】：

```json
 {
     "status": {
         "code": 0, //错误码，成功则为0
         "message": "OK", //错误含义
         "description": ""
     }
     "result": {
         "user": {
             "code": //国家码
                 "phone": //手机号
         }
         "info": {
             "headImgUrl": //用户头像
                 "nickName": //用户昵称
                 "qqHeadImgUrl": //qq昵称
                 "qqNickName": //qq头像
                 "shopID": //店铺id
                 "shopName": //店铺名称
                 "shopLogo": //店铺头像
                 "wxHeadImgUrl": //微信头像
                 "wxNickName": //微信昵称
         }
     }
 }
```

返回的code类型：

 0 => 请求成功；

 2 => 登录token校验失败；

其他 =>参看[其他错误码](http://wiki.vdian.net/pages/viewpage.action?pageId=1944592#id-统一登录系统接口文档（临时）-常见错误码定义)含义

使用方式

```javascript
login.getUserInfo({
    environment: 0,
    success: function(result) {
        console.log("success:", result);
    },
    error: function(result) {
        console.log("error:", result);
    }
});
```

`注：该方法内部统一采取Jsonp格式请求后台的接口数据，兼容IE7+`

##### 微信登录

`wechatSlientLogin`微信静默授权方式登录

【入参】：options

|     属性      | 是否必传 |   类型   |           默认值           |                描述                 |
| :---------: | :--: | :----: | :---------------------: | :-------------------------------: |
|     url     |  否   | string |  window.location.href   |             目标重定向url              |
| environment |  否   | number | 若不传，则默认解析识别当前页面的url的环境值 | 当前环境值 0：开发环境；1：日常环境；2：预发环境；3：线上环境 |

【返回】：无

```javascript
login.wechatSlientLogin({environment : 0});
```

`wechatForceLogin`微信强制授权方式登录

【入参】：options(选传)，其参数类型同上

【返回】：无

```javascript
login.wechatForceLogin({environment : 0});
```

##### 普通登录/登出

`login`登录跳转

【参数】options可选参数配置项

|     属性      | 是否必传 |   类型   |           默认值           |                    描述                    |
| :---------: | :--: | :----: | :---------------------: | :--------------------------------------: |
|     url     |  否   | string |  window.location.href   |                 重定向的url                  |
| environment |  否   | number | 若不传，则默认解析识别当前页面的url的环境值 |               当前环境值；值类型同上                |
|    oauth    |  否   | number |            1            |      是否显示第三方登录； oauth=0不显示；不传参，默认显示      |
|   device    |  否   | number |            1            | 区别h5端或者pc端； h5端：device=1,pc端：device=0`建议手动传值` |

【返回】：无

```javascript
login.login({
    environment: 0,
    device: 0
});
```

`logout`登出跳转

【参数】【选传】options 

|     属性      | 是否必传 |   类型   |           默认值           |                描述                 |
| :---------: | :--: | :----: | :---------------------: | :-------------------------------: |
|     url     |  否   | string |  window.location.href   |             目标重定向url              |
| environment |  否   | number | 若不传，则默认解析识别当前页面的url的环境值 | 当前环境值 0：开发环境；1：日常环境；2：预发环境；3：线上环境 |

【返回】无

```javascript
login.logout({ environment : 0});
```

#### 