<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen" />
    <meta content="telephone=no,email=no" name="format-detection">
    <link rel="shortcut icon" href="https://si.geilicdn.com/acb27801f3256ab74721c2f4da0e3c7e.png" type="image/x-icon">
    <link href="https://si.geilicdn.com/acb27801f3256ab74721c2f4da0e3c7e.png" rel="apple-touch-icon-precomposed">
    <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no">
    <title>demo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        .rs {
            display: inline-block;
        }

    </style>
</head>

<body>
    <button class="J_goLogin">jump login html</button>
    <br />
    <br />
    <button class="J_userInfo">调取用户接口</button>
    <br />
    <br />
    <button class="J_getBindStatus">当前用户手机是否绑定</button>
    <div class="rs bind-result"></div>
    <br />
    <br />
    <button class="J_checkIsOpenShop">是否开过店</button>
    <div class="rs result7"></div>

    <br />
    <br />
    <button class="J_addShop">创建店铺</button>
    <br />
    <br />
    <button class="J_BindPhone">绑定手机号</button>
    <br />
    <br />
    <button class="J_outLogin">out login</button>
    <br />
    <br />
    <br />
    <br />
    <button class="J_qqToLogin">qq授权登录</button>
    <br />
    <br />
    <button class="J_weixinSilentLogin">微信静默登录</button>
    <br />
    <br />
    <button class="J_weixinForceLogin">微信强制授权登录</button>
    <br />
    <br />
    <button class="J_checkLogin">是否登录</button>
    <div class="rs result1"></div>
    <br />
    <br />
    <button class="J_checkSellerLogin">是否是卖家登录</button>
    <div class="rs result2"></div>
    <br />
    <br />
    <button class="J_weixinLogin">是否微信登录</button>
    <div class="rs result3"></div>
    <br />
    <br />
    <button class="J_QQLogin">是否QQ登录</button>
    <div class="rs result4"></div>
    <br />
    <br />
    <button class="J_isWeixin">是否在微信环境</button>
    <div class="rs result5"></div>
    <br />
    <br />
    <button class="J_isQQ">是否在QQ环境</button>
    <div class="rs result6"></div>
    <br />
    <br />
    <button class="J_isSubAccount">是否子账号登录</button>
    <div class="rs result7"></div>
    <br />
    <br />
    <button class="empty-cookie">清除cookie</button>
    <br />
    <br />
    <button class="J_sellerswitchshop">切换到店铺选择页</button>
    <br />
    <br />

    <!-- 资源地址 -->
    <script type="text/javascript" src="<%= cdn %>"></script>

    <script type="text/javascript">
        var ENV_MAP = {
            DEV: 0,
            DAILY: 1,
            PRE: 2,
            PROD: 3
        }
        // 控制台打印登录用户的信息结果
        document.querySelector(".J_userInfo").addEventListener("click", function () {
            login.getUserInfo({
                environment: "<%= env%>",
                success: function (result) {
                    console.log("success:", result);
                },
                error: function (result) {
                    console.log("error:", result);
                }
            });
        }, false);
        // 控制台打印登录用户是否绑定手机号结果
        document.querySelector(".J_getBindStatus").addEventListener("click", function () {
            login.getBindStatus({
                environment: "<%= env%>",
                success: function (data) {
                    console.log(data);
                    document.querySelector(".bind-result").innerHTML = "isNeedToBind: " + data
                        .result;
                },
                error: function (e) {
                    console.log("error:", e);
                }
            });
        }, false);
        //  跳转登录
        document.querySelector(".J_goLogin").addEventListener("click", function () {
            // login.login({
            //     environment: "<%= env%>",
            //     device: 0
            // })
            console.log(login.login({
                environment: "<%= env%>",
                device: 1,
            }))
        }, false);
        // 退出登录
        document.querySelector(".J_outLogin").addEventListener("click", function () {

            console.log(login.logout({
                environment: "<%= env%>"
            }))
        }, false);
        // QQ授权登录
        document.querySelector(".J_qqToLogin").addEventListener("click", function () {
            console.log(login.qqLogin({
                environment: "<%= env %>",
                device: 0
            }))
        }, false);
        // 微信静默登录
        document.querySelector(".J_weixinSilentLogin").addEventListener("click", function () {
            console.log(login.wechatSlientLogin({
                environment: "<%= env%>"
            }))
        }, false);
        // 微信授权登录
        document.querySelector(".J_weixinForceLogin").addEventListener("click", function () {
            console.log(login.wechatForceLogin({
                environment: "<%= env%>"
            }))
        }, false);
        // 校验是否登录
        document.querySelector(".J_checkLogin").addEventListener("click", function () {
            result = login.isLogin();
            document.querySelector(".result1").innerHTML = "isLogin: " + result + "cookie:" + document.cookie;
        }, false);

        // 校验是否卖家登录
        document.querySelector(".J_checkSellerLogin").addEventListener("click", function () {
            result = login.isSellerLogin();
            document.querySelector(".result2").innerHTML = "isSellerLogin: " + result;
        }, false);

        // 校验是否微信登录
        document.querySelector(".J_weixinLogin").addEventListener("click", function () {
            result = login.isWechatLogin();
            document.querySelector(".result3").innerHTML = "isWechatLogin: " + result;
        }, false);

        // 校验是否QQ登录
        document.querySelector(".J_QQLogin").addEventListener("click", function () {
            result = login.isQQLogin();
            document.querySelector(".result4").innerHTML = "isQQLogin: " + result;
        }, false);

        // 绑定手机号
        document.querySelector(".J_BindPhone").addEventListener("click", function () {
            result = login.bind({
                environment: "<%= env%>"
            });
            console.log(result)
        }, false);

        // 校验微信环境
        document.querySelector(".J_isWeixin").addEventListener("click", function () {
            result = login.isWeixin();
            document.querySelector(".result5").innerHTML = "isWeixin: " + result;
        }, false);

        // 校验qq环境
        document.querySelector(".J_isQQ").addEventListener("click", function () {
            result = login.isQQ();
            document.querySelector(".result6").innerHTML = "isQQ: " + result;
        }, false);

        // 校验是否子账号登录
        document.querySelector(".J_isSubAccount").addEventListener("click", function () {
            result = login.isSubAccount();
            document.querySelector(".result7").innerHTML = "isSubAccount: " + result;
        }, false);

        document.querySelector(".empty-cookie").addEventListener("click", function () {
            document.cookie = "";
        }, false);

        document.querySelector(".J_sellerswitchshop").addEventListener("click", function () {
            console.log(login.login({
                environment: "<%= env%>",
                device: 1,
                sellerswitchshop: 3,
                seller: 1
            }));
        }, false);


        // 校验是否开过微店
        document.querySelector(".J_checkIsOpenShop").addEventListener("click", function () {
            result = login.isOpenShop({
                environment: "<%= env%>",
                success: function (data) {
                    console.log(data);
                    document.querySelector(".result7").innerHTML = "isOpenShop:" + data.result
                        .is_shop;
                },
                error: function (e) {
                    console.log("error:", e);
                }
            });
        }, false);


        document.querySelector('.J_addShop').addEventListener('click', function(){
            login.addShop({
                environment: "<%= env%>",
                success: function (data) {
                    console.info(data)
                },
                error: function (e) {
                    console.log("error:", e);
                }
            })
        })
    </script>
</body>

</html>
