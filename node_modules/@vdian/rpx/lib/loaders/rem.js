"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var loader_utils_1 = require("loader-utils");
var postcss = require("postcss");
var rem = require("../plugins/rem");
function handler(input, options) {
    return postcss([rem(options)])
        .process(input, {
        from: undefined
    })
        .then(function (result) {
        return result.css;
    });
}
function loader(source) {
    var callback = this.async();
    var options = loader_utils_1.getOptions(this);
    handler(source, options).then(function (css) {
        callback(null, css);
    }, callback);
}
/**
 * @ignore
 */
module.exports = loader;
/**
 * @ignore
 */
exports.default = loader;
