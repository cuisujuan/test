import { identity } from './processor';
import intercept from './intercept';
import { GLOBAL } from '../../constants';
// 暴露全局属性，用于记录是否已初始化
GLOBAL.hawk = GLOBAL.hawk || {
    disabled: false
};
// 拦截处理
function interceptHandler() {
    intercept({
        beforeSuccess: function (response, next) {
            // 实名认证处理，不符合则执行业务代码
            if (identity(response)) {
                next();
            }
        }
    });
}
/**
 * @ignore
 */
export default function hawk() {
    if (GLOBAL.hawk.disabled) {
        return;
    }
    interceptHandler();
    GLOBAL.hawk.disabled = true;
}
