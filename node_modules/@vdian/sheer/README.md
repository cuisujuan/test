# Sheer - 基础库

## 概述

Sheer 译为纯粹，引自 BMW 的广告词 “Sheer Driving Pleasure - 纯粹驾驶乐趣"。

基础库能够纯粹的提供底层技术支持，不掺杂多余与业务相关的逻辑，屏蔽底层细节，力求精简、稳定的设计。

## 设计目标

-   精简与稳定的 API 设计。
-   良好的扩展性。
-   充分的单元测试。
-   采用 TS 编写，充分的注释与类型定义。
-   大小严格控制。

## 组件

涵盖下面 10 个组件，具体见 v-component/组件名。

1. [calculator - 浮点数计算](https://gitlab.vdian.net/v-components/sheer/tree/master/packages/calculator)
2. [cookie - cookie 操作](https://h5.daily.weidian.com/v-components/sheer/cookie/index.html)
3. [date - 时间格式化](https://h5.daily.weidian.com/v-components/sheer/date/index.html)
4. [network - 网络请求](https://h5.daily.weidian.com/v-components/sheer/network/index.html)
5. [rpx - 适配 css](https://h5.daily.weidian.com/v-components/sheer/rpx/index.html)
6. [safety - 安全库](https://h5.daily.weidian.com/v-components/sheer/safety/index.html)
7. [url - url 操作](https://h5.daily.weidian.com/v-components/sheer/url/index.html)
8. [user-agent - UA 判断](https://h5.daily.weidian.com/v-components/sheer/user-agent/index.html)
9. [util - 工具函数](https://h5.daily.weidian.com/v-components/sheer/util/index.html)
10. [reset - css reset](https://gitlab.vdian.net/v-components/sheer/blob/master/packages/reset/README.md)

## 使用

推荐使用 npm 引入。

```
import { cookie, date, network, rpx, url, ua, util, safety } from '@vdian/sheer'

// 样式文件，包含rpx适配css与css reset
import '@vdian/sheer/lib/index.css'
// 对于PC项目，可只需引入css reset
import '@vdian/reset/lib/less/index.less'
```

使用 CDN 引入。

```
// 引入
<link rel="stylesheet" href="//assets.geilicdn.com/v-components/sheer/{version}/index.css"/>
<script src="//assets.geilicdn.com/v-components/sheer/{version}/index.js"></script>

// 使用
sheer.network.request()
sheer.url.getQuerystring()
```

为了解决 CDN 引入后 TS 提示问题，可在项目根目录新建 `types/sheer.d.ts` 文件，在 `tsconfig.json` 文件中的 `include` 字段增加 `types/sheer.d.ts` 。

```
import * as lib from '@vdian/sheer'

declare global {
    const sheer: typeof lib
    interface Window {
        sheer: typeof lib
    }
}
export {}
```

## 文档

为了快速查阅与提高开发效率，基础库提供详细的 TS 注释与源码注释。

## 问题与建议

有任何问题与建议可随时联系我们或请提 [Issue](https://gitlab.vdian.net/v-components/sheer/issues)。
